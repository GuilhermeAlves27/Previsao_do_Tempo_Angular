<div class="app">
  <header class="header">
    <h1>ğŸŒ¤ï¸ {{ title }}</h1>
    <p>PrevisÃ£o do tempo a qualquer momento!</p>
  </header>

  <main>
    <!-- Campo de buscaa -->
    <div class="search">
      <input 
        [(ngModel)]="cityName" 
        (keypress)="onKeyPress($event)"
        placeholder="Digite o nome da cidade"
        [disabled]="isLoading" />

      <button 
        (click)="searchWeather()" 
        [disabled]="isLoading || !cityName.trim()">
        {{ isLoading ? 'â³ Buscando...' : 'ğŸŒ¤ï¸ Buscar' }}
      </button>

      <button 
        *ngIf="cityName || weatherData" 
        (click)="clearSearch()" 
        [disabled]="isLoading">
        ğŸ§¹ Limpar
      </button>
    </div>

    <!-- Carregando -->
    <app-loading 
      [isLoading]="isLoading" 
      message="Carregando...">
    </app-loading>

    <!-- Mensagem de erro -->
    <div *ngIf="errorMessage && !isLoading" class="error-message">
      <span>âŒ {{ errorMessage }}</span>
    </div>

    <!-- Resultado -->
    <div *ngIf="weatherData && !isLoading && !errorMessage" class="result ">
      <h2> ğŸ™ï¸ {{ weatherData.resolvedAddress }}</h2>

      <div class="days">
        <div *ngFor="let day of weatherData.days" class="day">
          <h3>{{ getDayOfWeek(day.datetime) }}</h3>
          <p>{{ formatDate(day.datetime) }}</p>

          <div class="big-icon">
            {{ getWeatherIcon(day.icon) }}
          </div>

          <p><strong>MÃ¡x:</strong> {{ day.tempmax }}Â°C</p>
          <p><strong>MÃ­n:</strong> {{ day.tempmin }}Â°C</p>
          <p><strong>MÃ©dia:</strong> {{ day.temp }}Â°C</p>

          <p>{{ day.conditions }}</p>
          <p *ngIf="day.description">{{ day.description }}</p>

          <p *ngIf="day.humidity">ğŸ’§ Umidade: {{ day.humidity }}%</p>
          <p *ngIf="day.windspeed">ğŸ’¨ Vento: {{ day.windspeed }} km/h</p>
        </div>
      </div>
    </div>
  </main>
</div>
